pipeline {
    agent any
    stages {	

		stage('Cleanup Workspace') {
            steps {
                cleanWs()
                sh """
                echo "Cleaned Up Workspace For Project"
                """

            }
        }
				
       
        //Code starts for stage API Test
        stage('API Test') {
            steps {
               git url: 'https://github.com/sdixit07/BDDCucumberAPI.git'
               sh 'mvn test -Dcucumber.filter.tags="@API"'
            }
        }
		//Code ends for stage API Test

		//Code starts for stage UI Test
                stage('UI Test') {
                    steps {
                       sh 'mvn test -Dcucumber.filter.tags="@UI"'
                    }
                 }
        //Code ends for stage UI Test

        //Code starts for stage Smoke Test
                  stage('Smoke Test') {
                      steps {
                      //Integration between the repositories in the git
                        git url: 'https://github.com/sdixit07/BDDCucumberUI.git'
                        sh 'mvn test -Dcucumber.filter.tags="@smoke"'
                      }
                  }
        //Code ends for stage Smoke Test

		
    }
	

	
}